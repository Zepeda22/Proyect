{"version":3,"sources":["Services/PW2021/Login.services.js","Contexts/UserContext.js","assets/img/logo.png","pages/Login/Form/Form.jsx","Services/Image/Image.service.js","pages/Login/Login.jsx","Services/PW2021/User.services.js","Components/Post/Comment/Comment.jsx","Components/Post/Post.jsx","Components/NewPost/PartForm/PartForm.jsx","Services/PW2021/Admin.services.js","Components/NewPost/NewPost.jsx","Components/Portal/Portal.jsx","pages/Admin/Navbar/Navbar.jsx","pages/Admin/Admin.jsx","pages/User/Navbar/Navbar.jsx","pages/User/User.jsx","pages/Profile/ViewPost/ViewPost.jsx","pages/Profile/ViewFav/ViewFav.jsx","pages/Profile/Profile.jsx","Components/PrivateRoute/PrivateRoute.jsx","App.jsx","index.js"],"names":["BASE_URL","useServices","login","username","password","a","response","axios","post","then","data","catch","error","console","log","verifyToken","token","get","headers","Authorization","TOKEN_KEY","UserContext","createContext","UserProvider","props","useState","undefined","user","setUser","setToken","useEffect","localToken","getToken","role","localStorage","getItem","setNewToken","newToken","setItem","removeItem","useCallback","loginFetch","logout","providerValue","useMemo","Provider","value","children","useUserContext","context","useContext","Error","routes","Form","useForm","register","handleSubmit","errors","navigate","useNavigate","onSubmitHandler","e","target","reset","className","src","logo","onSubmit","name","placeholder","type","imageServices","size","width","height","img","Login","imgUrl","setImgUrl","style","backgroundImage","useUserServices","getAll","parameter","limit","page","params","getAllFavorites","getOne","id","patchLike","patch","patchFavorite","addComment","comment","description","Comment","comments","fontSize","send","setSend","map","onMouseEnter","onMouseLeave","Post","favPosts","iconLike","setIconLike","iconFav","setIconFav","iconComment","setIconComment","formComment","setFormComment","favPost","_id","likes","onClickLikeHandler","render","displayName","onClickFavHandler","title","onClick","image","length","PartForm","setImg","loading","setLoading","animationClass","setAnimationClass","onChangeHandler","fetch","ok","onChange","useAdminServices","createPost","ownedPosts","updatePost","put","togglePost","NewPost","onFocusHandler","setTimeout","onFocus","Portal","createPortal","document","body","Navbar","options","setOptions","referenceElement","setReferenceElement","popperElement","setPopperElement","usePopper","placement","styles","attributes","to","ref","popper","posts","Admin","renderPosts","setRenderPosts","observer","useRef","IntersectionObserver","entries","isIntersecting","loadingPosts","threshold","element","setElement","myFavPost","favorites","currentElement","currentObserver","current","observe","unobserve","filters","concat","class","User","ViewPost","myPost","favId","allFavPosts","ViewFav","findFavPost","push","myFav","fav","Favpost","Profile","path","PrivateRoute","replace","App","exact","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.034ed004.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1\";\r\n\r\nexport const useServices = {\r\n    login: async (username, password) => {\r\n\r\n        //console.log({ username, password });\r\n        const response = axios.post(`${BASE_URL}/auth/signin`, {\r\n            username: username,\r\n            password: password\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n\r\n    verifyToken: async (token) => {\r\n        const response = axios.get(`${BASE_URL}/auth/whoami`, {\r\n            headers: { Authorization: `Bearer ${token}` }\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n};","import {\r\n    createContext,\r\n    useContext,\r\n    useEffect,\r\n    useState,\r\n    useMemo,\r\n    useCallback,\r\n} from \"react\";\r\nimport { useServices } from \"../Services/PW2021/Login.services\";\r\n\r\nconst TOKEN_KEY = \"token\";\r\nconst UserContext = createContext();\r\n\r\nexport const UserProvider = (props) => {\r\n    const [user, setUser] = useState(undefined);\r\n    const [token, setToken] = useState(undefined);\r\n    useEffect(() => {\r\n        const verifyToken = async () => {\r\n            const localToken = getToken();\r\n            //console.log({ localToken });\r\n            if (localToken) {\r\n                const response = await useServices.verifyToken(localToken);\r\n                //console.log(response);\r\n                if (response.username && response.role) {\r\n                    setUser({ username: response.username, role: response.role });\r\n                    setToken(localToken);\r\n                }\r\n            }\r\n            \r\n        };\r\n        console.log(\"Por el contex paso\")\r\n        verifyToken();\r\n    }, [token]);\r\n\r\n    const getToken = () => {\r\n        return localStorage.getItem(TOKEN_KEY);\r\n    };\r\n\r\n    const setNewToken = (newToken) => {\r\n        if (newToken) {\r\n            localStorage.setItem(TOKEN_KEY, newToken);\r\n        } else {\r\n            localStorage.removeItem(TOKEN_KEY);\r\n        }\r\n\r\n        setToken(newToken);\r\n    };\r\n\r\n    const login = useCallback((username, password) => {\r\n        const loginFetch = async (username, password) => {\r\n            const response = await useServices.login(username, password); // token y role\r\n            console.log(response) \r\n                     if (response.token) {\r\n                setNewToken(response.token);\r\n                return true; // si se pudo\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n        return loginFetch(username, password);\r\n    }, []);\r\n\r\n    const logout = () => {\r\n        setNewToken(undefined);\r\n        setUser(undefined);\r\n    }\r\n\r\n    const providerValue = useMemo(() => {\r\n        return {\r\n            user: user,\r\n            login: login,\r\n            token: token,\r\n            logout: logout,\r\n            getToken: getToken,\r\n        };\r\n    }, [user, token]);\r\n\r\n    return (\r\n        <UserContext.Provider value={providerValue}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useUserContext = () => {\r\n    const context = useContext(UserContext);\r\n\r\n    if (!context) {\r\n        throw new Error(\"No estás dentro del UserProvider\")\r\n    }\r\n\r\n    return context;\r\n};","export default __webpack_public_path__ + \"static/media/logo.c1b39f1b.png\";","import React, {useEffect} from \"react\";\r\nimport { useForm } from 'react-hook-form'\r\nimport { useUserContext } from \"../../../Contexts/UserContext\";\r\nimport logo from \"../../../assets/img/logo.png\"\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst routes = {\r\n    \"admin\": \"/admin\",\r\n    \"user\": \"/user\"\r\n}\r\n\r\nconst Form = () => {\r\n    const {register, errors, handleSubmit} = useForm();\r\n    const context = useUserContext();\r\n    const navigate = useNavigate(); \r\n    const onSubmitHandler = async  (data, e) =>{\r\n        //console.log(data);\r\n        try{\r\n            const response = await context.login(data.user, data.password)\r\n\r\n            console.log( response )\r\n\r\n        }catch(error){\r\n            console.error(error)\r\n        }\r\n        e.target.reset();\r\n    }\r\n\r\n    useEffect(()=> {\r\n        if(context.user) {\r\n          navigate(routes[context.user.role] ?? \"/login\");\r\n        }\r\n    }, [context.user]);\r\n\r\n    return (\r\n        <div className=\"w-1/3 h-3/5 bg-transparent   relative flex flex-col justify-center items-center\">\r\n            <img className=\"w-3/12\" src={logo}/>\r\n            <form onSubmit={handleSubmit(onSubmitHandler)} className=\"w-4/5 h-3/5 flex flex-col justify-around items-center\">\r\n                <input name=\"user\" className=\"w-3/4 h-12 px-4 rounded-full border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent\" placeholder=\"User\" {...register(\"user\")} />\r\n                <input name=\"password\" type=\"password\" className=\"w-3/4 h-12 px-4 rounded-full border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent\" placeholder=\"Password\" {...register(\"password\")} />\r\n                <button type=\"submit\" className=\"w-3/4 h-12 px-4 py-1 text-3xl font-semibold rounded-full border border-purple-600 text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2\">Ingresar</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Form;\r\n\r\n//eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MThjNTIwYjRjZmQ3MDRhZTMzN2Q2NTUiLCJpYXQiOjE2Mzc2MDc5MjksImV4cCI6MTYzODgxNzUyOX0.fz3sf3ZcPSVgObNu58ohEgrpdc39eGRL5LtoVsMnD_U\r\n//eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MThjNTIwYjRjZmQ3MDRhZTMzN2Q2NTUiLCJpYXQiOjE2Mzc2MDgxMTMsImV4cCI6MTYzODgxNzcxM30.xJP0nysKaEQvAr0FhicVo0qtLZIvxM1hdJpNg_-oQNg","const BASE_URL = \"https://picsum.photos/\";\r\n\r\nexport const imageServices = {\r\n    getImageRandom: (size = {}) => {\r\n      const { width = 0, height  = 0} = size\r\n      const img = `${BASE_URL}${width}/${height}`\r\n      return img;\r\n    }\r\n  };","import React, {useState, useEffect} from \"react\";\r\nimport Form from \"./Form/Form.jsx\";\r\n\r\n//Services \r\nimport { imageServices } from \"../../Services/Image/Image.service\";\r\n\r\n\r\nconst Login = () => {\r\n    //States\r\n    const [imgUrl, setImgUrl] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        const fetchPokemons =  () => {\r\n             const filters = {width: 1920, height:1080};\r\n            setImgUrl(imageServices.getImageRandom(filters))\r\n        };\r\n        fetchPokemons();\r\n        \r\n    }, []);\r\n    return (\r\n        <div className=\"w-screen h-screen bg-no-repeat bg-cover bg-opacity-75 bg-center\" style={{backgroundImage: `url(${imgUrl})`}}>\r\n            <div className=\"w-screen h-screen flex flex-col justify-center items-center  bg-black bg-opacity-25 \">\r\n                <Form />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import axios from 'axios';\r\nconst BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1/post\";\r\n\r\nexport const useUserServices = {\r\n    getAll: async (parameter = {}, token) => {\r\n        const { limit, page} = parameter\r\n        const response = axios.get(`${BASE_URL}/all`, {\r\n            params:{\r\n                limit: limit,\r\n                page: page\r\n            },\r\n            headers: { \r\n                Authorization: `Bearer ${token}` \r\n            }\r\n        })\r\n            .then(response => {\r\n                console.log(response)\r\n                return response.data;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n\r\n    getAllFavorites: async (token) => {\r\n        const response = axios.get(`${BASE_URL}/fav`, {\r\n            headers: { \r\n                Authorization: `Bearer ${token}` \r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n\r\n    getOne: async (id ,token) => {\r\n        const response = axios.get(`${BASE_URL}/one/${id}`, {\r\n            headers: { \r\n                Authorization: `Bearer ${token}` \r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n\r\n    patchLike: async (id ,token) => {\r\n        const response = axios.patch(`${BASE_URL}/like/${id}`,null, {\r\n            headers: { \r\n                Authorization: `Bearer ${token}` \r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n\r\n    patchFavorite: async (id ,token) => {\r\n        const response = axios.patch(`${BASE_URL}/fav/${id}`,null, {\r\n            headers: { \r\n                Authorization: `Bearer ${token}` \r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n\r\n    addComment: async (comment, id ,token) => {\r\n        const response = axios.patch(`${BASE_URL}/comment/${id}`,{description: comment},{headers: {Authorization: `Bearer ${token}`}})\r\n            .then(response => {\r\n                return response.data;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n};","import React, {useState} from \"react\";\r\nimport { useForm } from 'react-hook-form'\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport SendOutlinedIcon from '@mui/icons-material/SendOutlined';\r\nimport { useUserContext } from \"../../../Contexts/UserContext\";\r\nimport { useUserServices } from \"../../../Services/PW2021/User.services\";\r\nconst Comment = ({comments, id}) => {\r\n    const context = useUserContext();\r\n    const {register, errors, handleSubmit} = useForm();\r\n    const [send,setSend] = useState(<SendOutlinedIcon className=\"text-purple-900\" fontSize=\"large\"/>)\r\n\r\n\r\n    const onSubmitHandler = async (data, e) =>{\r\n        console.log(data);\r\n        const token = context.getToken();\r\n        console.log(token)\r\n        const response = await useUserServices.addComment(data.description, id ,token) \r\n        console.log(response)\r\n        console.log(response.data)\r\n        e.target.reset();\r\n    }\r\n    \r\n    const onMouseEnterLikeHandler = () => {\r\n        setSend(<SendIcon className=\"text-purple-900\" fontSize=\"large\"/>)\r\n    } \r\n\r\n    const onMouseLeaveLikeHandler = () => {\r\n        setSend(<SendOutlinedIcon  className=\"text-purple-900\" fontSize=\"large\"/>)\r\n    }  \r\n\r\n    return (\r\n        <div>\r\n            <div className=\"w-full h-20 overflow-auto p-2 pt-2  bg-red-400\">{\r\n                  comments.map( comment => {\r\n                  return <p>{`${comment.user.username}: ${comment.description}`}</p>\r\n                })\r\n                }</div>\r\n            <form onSubmit={handleSubmit(onSubmitHandler)} className=\"w-full h-16 flex flex-row justify-between items-center \">\r\n                <input name=\"comment\" className=\"w-4/5 h-8 ml-6 px-4 rounded-full border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent\" placeholder=\"Tengo que decir ...\"  {...register(\"description\")}/>\r\n                <button type=\"submit\" onMouseEnter={onMouseEnterLikeHandler} onMouseLeave={onMouseLeaveLikeHandler} className=\"mr-6 \" id=\"send\">{send}</button>\r\n            </form>\r\n        </div>\r\n        \r\n    );\r\n};\r\n\r\nexport default Comment;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport { useForm } from 'react-hook-form'\r\n//import { MdFavoriteBorder, MdFavorite, MdOutlineSend, MdSend} from \"react-icons/md\";\r\n//import FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\n//import { FavoriteIcon, FavoriteBorderIcon,ChatIcon ,ChatOutlinedIcon   } from '@mui/icons-material';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport ChatIcon from '@mui/icons-material/Chat'\r\nimport ChatOutlinedIcon from '@mui/icons-material/ChatOutlined';\r\nimport Comment from \"./Comment/Comment\";\r\nimport BookmarkBorderIcon from '@mui/icons-material/BookmarkBorder';\r\nimport BookmarkIcon from '@mui/icons-material/Bookmark';\r\nimport { useUserContext } from \"../../Contexts/UserContext\";\r\nimport { useUserServices } from \"../../Services/PW2021/User.services\";\r\n//import { RiChat4Line, RiChat4Fill } from \"react-icons/ri\";https://picsum.photos/500/500\r\nconst Post = ({post, favPosts}) => {\r\n    const context = useUserContext();\r\n    const [iconLike, setIconLike] = useState(<FavoriteBorderIcon className=\" text-red-400 hover:text-red-500\" fontSize=\"large\"/>)\r\n    const [iconFav, setIconFav] = useState(<BookmarkBorderIcon className=\" text-red-400 hover:text-red-500\" fontSize=\"large\"/>)\r\n    const [iconComment, setIconComment] = useState(<ChatOutlinedIcon className=\" text-red-400 hover:text-red-500\" fontSize=\"large\"/>)\r\n    const [formComment, setFormComment] = useState(<div></div>)\r\n\r\n    useEffect(() => {\r\n        favPosts.map(favPost => {\r\n            if(post._id == favPost){\r\n                setIconFav(<BookmarkIcon className=\" text-red-500\" fontSize=\"large\"/>)\r\n            }\r\n        }\r\n\r\n        )\r\n        post.likes.map(user => {\r\n            //console.log(context.user)\r\n            if(user.username == context.user.username){\r\n                setIconLike(<FavoriteIcon className=\" text-red-500\" fontSize=\"large\"/>)\r\n            }\r\n        })\r\n        \r\n     }, []);\r\n\r\n    const {register, errors, handleSubmit} = useForm();\r\n\r\n    const onSubmitHandler = (data, e) =>{\r\n        console.log(data);\r\n        e.target.reset();\r\n    }\r\n    const onClickLikeHandler = async () =>{\r\n        const token = context.getToken();\r\n        const response = await useUserServices.patchLike(post._id ,token) \r\n        console.log(response)\r\n        console.log(response.data)\r\n       // console.log(iconLike)\r\n        iconLike.type.type.render.displayName === \"FavoriteIcon\"? setIconLike(<FavoriteBorderIcon className=\" text-red-400 hover:text-red-500\" fontSize=\"large\"/>):setIconLike(<FavoriteIcon className=\" text-red-500\" fontSize=\"large\"/>)\r\n    }\r\n\r\n    const onClickCommentHandler = () =>{\r\n        if(iconComment.type.type.render.displayName === \"ChatIcon\"){       \r\n            setIconComment(<ChatOutlinedIcon className=\" text-red-400 hover:text-red-500\" fontSize=\"large\"/>)\r\n            setFormComment(<div></div>)\r\n        }else{\r\n            setIconComment(<ChatIcon className=\" text-red-500\" fontSize=\"large\"/>)\r\n            setFormComment(<Comment comments={post.comments} id={post._id} />)\r\n        }\r\n    }\r\n    \r\n    const onClickFavHandler = async () =>{\r\n        const token = context.getToken();\r\n        const response = await useUserServices.patchFavorite(post._id ,token) \r\n        console.log(response)\r\n        console.log(response.data)\r\n        iconFav.type.type.render.displayName === \"BookmarkIcon\"? setIconFav(<BookmarkBorderIcon className=\" text-red-400 hover:text-red-500\" fontSize=\"large\"/>):setIconFav(<BookmarkIcon className=\" text-red-500\" fontSize=\"large\"/>)\r\n    }\r\n\r\n\r\n\r\n    return (\r\n            <div className=\"w-full bg-purple-700  rounded-lg flex flex-col mt-3\">\r\n                <div className=\"w-full h-12  flex justify-center items-center hover:underline\">\r\n                    <div>{`${post.user.username} - ${post.title} - ${post._id}`}</div>\r\n                    <div><button  onClick={onClickFavHandler} className=\"ml-6\">{iconFav}</button></div>\r\n                </div>\r\n                <div className=\"w-full h-96\"><img className=\"w-full h-full object-contain\" src={post.image}/></div>\r\n                <div className=\"w-full h-20 overflow-auto p-2 pt-2  bg-purple-700 \">{post.description}</div>\r\n                <div className=\"w-full h-12 flex flex-row justify-between items-center\">\r\n                    \r\n                        <button  onClick={onClickLikeHandler} className=\"ml-6\">{iconLike}</button>\r\n                        <button onClick={onClickCommentHandler} className=\"mr-6\">{iconComment}</button>\r\n                    \r\n                    \r\n                </div>\r\n                <div className=\"w-full h-8 flex flex-row justify-between items-center\">\r\n                        <p className=\"ml-6 text-red-400\">{post.likes.length} Me gusta</p>\r\n                        <p className=\"mr-6 text-red-400\">{post.comments.length} Comentarios</p>\r\n                    </div>\r\n                {formComment}\r\n            </div>\r\n    );\r\n};\r\n\r\nexport default Post;","import React, {useState} from \"react\";\r\nimport { useForm } from 'react-hook-form'\r\nimport LoopIcon from '@mui/icons-material/Loop';\r\nconst PartForm = ({data}) => {\r\n    const [img,setImg] = useState(\"\")\r\n    const [loading, setLoading] = useState(<div></div>)\r\n    const [animationClass, setAnimationClass] = useState(\"animate-bounce\");\r\n\r\n    const onSubmitHandler = (data, e) =>{\r\n        console.log(data);\r\n        e.target.reset();\r\n    }\r\n    \r\n    const onChangeHandler = async  (e) =>{\r\n        setImg(\"\")\r\n        setLoading(<LoopIcon className =\"animate-spin\"/>);\r\n        try {\r\n            let a = await fetch(e.target.value)\r\n            console.log(a)\r\n            if(a.ok === true)\r\n            {\r\n                setImg(e.target.value)\r\n                setLoading(<div></div>)\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n        }   \r\n        \r\n    }\r\n\r\n    const onMouseEnterLikeHandler = () => {\r\n        setAnimationClass(\"\")\r\n    } \r\n\r\n    const onMouseLeaveLikeHandler = () => {\r\n        setAnimationClass(\"animate-bounce\")\r\n    }  \r\n    return (\r\n        <div className=\"w-full h-full flex flex-col gap-y-4 justify-around items-center\">\r\n        <input name=\"url\" className=\"w-4/5 h-8  px-4 rounded-md border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent\" placeholder=\"Pega una URL\"  {...data(\"image\",{onChange: (e) =>  onChangeHandler(e)})}/>\r\n        {loading}\r\n        <img src={img}/>\r\n        <textarea className=\"w-4/5 resize-none border rounded-md p-1 \" placeholder=\"Descripcion\" {...data(\"description\")}></textarea>\r\n        <button type=\"submit\" onMouseEnter={onMouseEnterLikeHandler} onMouseLeave={onMouseLeaveLikeHandler} className={`self-end bg-red-400 p-4 mr-16 mb-3 mt-1  rounded-lg ${animationClass}`  } id=\"send\">Publicar</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PartForm;","import axios from 'axios';\r\nconst BASE_URL = \"https://posts-pw2021.herokuapp.com/api/v1/post\";\r\n\r\nexport const useAdminServices = {\r\n    createPost: async (post = {}, token) => {\r\n        const { title, description, image} = post\r\n        const response = axios.post(`${BASE_URL}/create`, {\r\n                title: title,\r\n                description: description,\r\n                image: image\r\n            },\r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${token}` \r\n                }\r\n            })\r\n            .then(response => {\r\n                console.log(response)\r\n                return response.data;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n\r\n    ownedPosts: async (parameter = {}, token) => {\r\n        const { limit, page} = parameter\r\n        //console.log({ username, password });\r\n        const response = axios.get(`${BASE_URL}/owned`,\r\n        {\r\n            data:{\r\n                    limit: limit,\r\n                    page: page \r\n            },\r\n            headers: { \r\n                Authorization: `Bearer ${token}` \r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n\r\n    updatePost: async (post = {}, id ,token) => {\r\n        const { title, description, image} = post\r\n        //console.log({ username, password });\r\n        const response = axios.put(`${BASE_URL}/update/${id}`, {\r\n            data:{\r\n                title: title,\r\n                description: description,\r\n                image: image\r\n            },\r\n            headers: { \r\n                Authorization: `Bearer ${token}` \r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n    \r\n    togglePost: async (id ,token) => {\r\n        const response = axios.patch(`${BASE_URL}/toggle/${id}`, {\r\n            headers: { \r\n                Authorization: `Bearer ${token}` \r\n            }\r\n        })\r\n            .then(response => {\r\n                return response.data;\r\n\r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                return {};\r\n            });\r\n        return response;\r\n    },\r\n\r\n\r\n\r\n};","import React, {useState} from \"react\";\r\nimport { useForm } from 'react-hook-form'\r\nimport PartForm from \"./PartForm/PartForm\";\r\nimport { useAdminServices } from \"../../Services/PW2021/Admin.services\";\r\nimport { useUserContext } from \"../../Contexts/UserContext\";\r\nconst NewPost = () => {\r\n\r\n    const [formComment, setFormComment] = useState(<div></div>)\r\n    const {register, errors, handleSubmit} = useForm();\r\n    const context = useUserContext();\r\n\r\n    const onSubmitHandler = async (data, e) =>{\r\n        console.log(data);\r\n        const token = context.getToken();\r\n        console.log(token)\r\n            const post = { title: data.title, description: data.description, image: data.image};\r\n            console.log(post)\r\n            const response = await useAdminServices.createPost(post, token) \r\n            console.log(response)\r\n            console.log(response.data)\r\n        e.target.reset();\r\n    }\r\n\r\n\r\n\r\n    const onFocusHandler = () =>{\r\n        \r\n        setFormComment(<PartForm data={register}/>)\r\n    }\r\n   \r\n    const onBlurHandler = () =>{\r\n        \r\n        setTimeout(() => {setFormComment(<div></div>)}, 7000);\r\n    }\r\n\r\n    return (\r\n        <div onMouseLeave={onBlurHandler} onMouseEnter={onFocusHandler} className=\"w-full  bg-purple-700 rounded-lg mt-20  \">\r\n            \r\n                <form onSubmit={handleSubmit(onSubmitHandler)} className=\"w-full h-full flex flex-col gap-y-7 items-center \">\r\n                <input name=\"comment\"  onFocus={onFocusHandler} className=\"w-4/5 h-12 mt-6 px-4 text-3xl rounded-md border border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent\" placeholder=\"Titulo\" {...register(\"title\")}  />\r\n               \r\n                \r\n                {formComment}\r\n                </form>  \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NewPost;","import { createPortal } from \"react-dom\"\r\n\r\nconst Portal = ({ children }) => {\r\n\r\n    return createPortal(children, document.body);\r\n};\r\n\r\nexport default Portal;","import React, {useState} from \"react\";\r\nimport logo from \"../../../assets/img/logo.png\"\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport Portal from \"../../../Components/Portal/Portal\";\r\nimport { usePopper } from 'react-popper';\r\nimport { style } from \"@mui/system\";\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport BookmarkIcon from '@mui/icons-material/Bookmark';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport { useUserContext } from \"../../../Contexts/UserContext\";\r\nimport {Link} from \"react-router-dom\";\r\nconst Navbar = () => {\r\n    const [options, setOptions] = useState(false)\r\n    const [referenceElement, setReferenceElement] = useState(null);\r\n    const [popperElement, setPopperElement] = useState(null);\r\n    const { styles, attributes } = usePopper(referenceElement, popperElement, {placement: \"bottom\"});\r\n    const { logout } = useUserContext();\r\n\r\n    const onClickAccountHandler = () =>{\r\n        options?setOptions(false):setOptions(true)\r\n    }\r\n    return (\r\n        <div className=\" bg-red-400 fixed w-screen h-16 z-30 flex flex-row justify-around  \" >\r\n            <div className=\"flex flex-row justify-start w-6/12 items-center \">\r\n                <Link className=\"w-16\" to=\"/admin\">\r\n                    <img className=\"h-16\"  src={logo}/>\r\n                </Link>\r\n                <input className=\"m-1 w-9/12 md:ml-20 px-4 h-3/6 md:w-3/6 \" placeholder=\"Buscar\" type=\"text\"></input>\r\n                \r\n            </div>\r\n            <div className=\"flex flex-row justify-between items-center\">\r\n              \r\n                    <Link to=\"/admin\">\r\n                        <HomeIcon className=\"mx-8\" fontSize=\"large\"/>\r\n                    </Link>\r\n                    <button onClick={onClickAccountHandler} ref={setReferenceElement}><AccountCircleIcon className=\"mr-8\" fontSize=\"large\"/></button>\r\n                \r\n            \r\n                \r\n            </div>\r\n            {options && <Portal>\r\n                <div className=\"bg-white rounded-lg  w-full md:w-60 z-40 flex flex-col\" ref={setPopperElement} style={styles.popper} {...attributes.popper}>\r\n                    <Link to=\"/admin/profile/publicaciones\">\r\n                    <div className=\"p-1.5 flex flex-row justify-start hover:bg-gray-400 rounded-t-lg \">\r\n                        <PersonIcon className=\"mx-4\" fontSize=\"large\"/>\r\n                        <button>Perfil</button>\r\n                    </div>\r\n                    </Link>\r\n                    <Link to=\"/admin/profile/favoritos\">\r\n                    <div className=\"p-1.5 flex flex-row justify-start hover:bg-gray-400  \">\r\n                        <BookmarkIcon className=\"mx-4\" fontSize=\"large\"/>\r\n                        <button>Favoritos</button>\r\n                    </div>\r\n                    </Link>\r\n                    <Link to=\"/login\">\r\n                        <div className=\"p-1.5 flex flex-row justify-start hover:bg-gray-400 rounded-b-lg \">\r\n                            <LogoutIcon className=\"mx-4\" fontSize=\"large\"/>\r\n                            <button onClick={()=> { logout(); }}>Cerrar sesion</button>\r\n                        </div>\r\n                    </Link>\r\n                    \r\n                </div>\r\n            </Portal>}\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Navbar;","import React, {useEffect, useState, useRef} from \"react\";\r\nimport Post from \"../../Components/Post/Post\"\r\nimport NewPost from \"../../Components/NewPost/NewPost\"\r\nimport Navbar from \"./Navbar/Navbar\";\r\nimport { useUserContext } from \"../../Contexts/UserContext\";\r\nimport { useUserServices } from \"../../Services/PW2021/User.services\";\r\nimport { set } from \"react-hook-form\";\r\n\r\nvar page = 0;\r\nvar posts = [];\r\nvar favPosts = [];\r\nconst Admin = () => {\r\n  const context = useUserContext();\r\n  const [renderPosts, setRenderPosts] = useState([]);\r\n  //const [page, setPage] = useState(0);\r\n  const observer = useRef(\r\n    new IntersectionObserver(\r\n      entries => {\r\n        const first = entries[0];\r\n        if (first.isIntersecting) {\r\n          \r\n          \r\n          console.log(\"En el ref \"+page)\r\n          loadingPosts();\r\n          page++;\r\n        }\r\n      },\r\n      { threshold: 1 }\r\n    )\r\n  );\r\n\r\n  const [element, setElement] = useState(null);\r\n  useEffect(() => {\r\n      const myFavPost = async () => {  \r\n          try {\r\n              const token = context.getToken();\r\n              const response = await useUserServices.getAllFavorites(token)\r\n              console.log(response.favorites);\r\n              favPosts = response.favorites\r\n            \r\n            } catch (error) {\r\n              console.error(error);\r\n            }\r\n      };\r\n      myFavPost();  \r\n      \r\n  }, []);\r\n\r\n\r\n      useEffect(() => {\r\n        \r\n        const currentElement = element;\r\n    const currentObserver = observer.current;\r\n\r\n    if (currentElement) {\r\n      currentObserver.observe(currentElement);\r\n    }\r\n\r\n    return () => {\r\n      if (currentElement) {\r\n        currentObserver.unobserve(currentElement);\r\n      }\r\n    };\r\n  }, [element]);\r\n\r\n      const loadingPosts = async () => {\r\n            const token = context.getToken();\r\n            console.log(token)\r\n            console.log(\"En el loading post \"+page)\r\n            const filters = { limit: 5, page: page };\r\n            const response = await useUserServices.getAll(filters, token)\r\n            console.log(response.data);\r\n            posts = posts.concat( response.data)\r\n            \r\n            console.log(posts)\r\n            setRenderPosts(posts)\r\n            console.log(posts.length)\r\n      }\r\n\r\n    return (\r\n        <div className=\"min-h-screen  h-full bg-scroll bg-repeat bg-purple-400  grid grid-cols-6\">\r\n            <Navbar/>\r\n            <div className=\"col-start-1 col-span-6 sm:col-start-2 sm:col-span-4 xl:col-start-3 xl:col-span-2\">\r\n                <NewPost /> \r\n                <div>\r\n                {\r\n                  renderPosts.map( post => {\r\n                  return <Post\r\n                  favPosts={favPosts}\r\n                  post={post}\r\n                  key={post._id}\r\n                    />\r\n                })\r\n                }\r\n                </div>\r\n                \r\n                <div class=\"border border-purple-300 shadow rounded-md p-4  w-full mx-auto mt-3\">\r\n                  <div class=\"animate-pulse flex space-x-4\">\r\n                    <div class=\"rounded-full bg-purple-700 h-12 w-12\"></div>\r\n                    <div class=\"flex-1 space-y-4 py-1\">\r\n                      <div class=\"h-4 bg-purple-700 rounded w-3/4\"></div>\r\n                      <div class=\"space-y-2\">\r\n                        <div class=\"h-4 bg-purple-700 rounded\"></div>\r\n                        <div class=\"h-4 bg-purple-700 rounded w-5/6\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div ref={setElement} class=\"border  border-purple-300 shadow rounded-md p-4  w-full mx-auto mt-3\">\r\n                  <div class=\"animate-pulse flex space-x-4\">\r\n                    <div class=\"rounded-full bg-purple-700 h-12 w-12\"></div>\r\n                    <div class=\"flex-1 space-y-4 py-1\">\r\n                      <div class=\"h-4 bg-purple-700 rounded w-3/4\"></div>\r\n                      <div class=\"space-y-2\">\r\n                        <div class=\"h-4 bg-purple-700 rounded\"></div>\r\n                        <div class=\"h-4 bg-purple-700 rounded w-5/6\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Admin;","import React, {useState} from \"react\";\r\nimport logo from \"../../../assets/img/logo.png\"\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport Portal from \"../../../Components/Portal/Portal\";\r\nimport { usePopper } from 'react-popper';\r\nimport { style } from \"@mui/system\";\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport BookmarkIcon from '@mui/icons-material/Bookmark';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport { useUserContext } from \"../../../Contexts/UserContext\";\r\nimport {Link} from \"react-router-dom\";\r\nconst Navbar = () => {\r\n    const [options, setOptions] = useState(false)\r\n    const [referenceElement, setReferenceElement] = useState(null);\r\n    const [popperElement, setPopperElement] = useState(null);\r\n    const { styles, attributes } = usePopper(referenceElement, popperElement, {placement: \"bottom\"});\r\n    const { logout } = useUserContext();\r\n\r\n    const onClickAccountHandler = () =>{\r\n        options?setOptions(false):setOptions(true)\r\n    }\r\n    return (\r\n        <div className=\" bg-red-400 fixed w-screen h-16 z-30 flex flex-row justify-around  \" >\r\n            <div className=\"flex flex-row justify-start w-6/12 items-center \">\r\n                <Link className=\"w-16\" to=\"/user\">\r\n                    <img className=\"h-16\"  src={logo}/>\r\n                </Link>\r\n                <input className=\"m-1 w-9/12 md:ml-20 px-4 h-3/6 md:w-3/6 \" placeholder=\"Buscar\" type=\"text\"></input>\r\n                \r\n            </div>\r\n            <div className=\"flex flex-row justify-between items-center\">\r\n              \r\n                    <Link to=\"/user\">\r\n                        <HomeIcon className=\"mx-8\" fontSize=\"large\"/>\r\n                    </Link>\r\n                    <button onClick={onClickAccountHandler} ref={setReferenceElement}><AccountCircleIcon className=\"mr-8\" fontSize=\"large\"/></button>\r\n                \r\n            \r\n                \r\n            </div>\r\n            {options && <Portal>\r\n                <div className=\"bg-white rounded-lg  w-full md:w-60 z-40 flex flex-col\" ref={setPopperElement} style={styles.popper} {...attributes.popper}>\r\n                    <Link to=\"/user/profile/publicaciones\">\r\n                    <div className=\"p-1.5 flex flex-row justify-start hover:bg-gray-400 rounded-t-lg \">\r\n                        <PersonIcon className=\"mx-4\" fontSize=\"large\"/>\r\n                        <button>Perfil</button>\r\n                    </div>\r\n                    </Link>\r\n                    <Link to=\"/user/profile/favoritos\">\r\n                    <div className=\"p-1.5 flex flex-row justify-start hover:bg-gray-400  \">\r\n                        <BookmarkIcon className=\"mx-4\" fontSize=\"large\"/>\r\n                        <button>Favoritos</button>\r\n                    </div>\r\n                    </Link>\r\n                    <Link to=\"/login\">\r\n                        <div className=\"p-1.5 flex flex-row justify-start hover:bg-gray-400 rounded-b-lg \">\r\n                            <LogoutIcon className=\"mx-4\" fontSize=\"large\"/>\r\n                            <button onClick={()=> { logout(); }}>Cerrar sesion</button>\r\n                        </div>\r\n                    </Link>\r\n                    \r\n                </div>\r\n            </Portal>}\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Navbar;","import React, {useEffect, useState, useRef} from \"react\";\r\nimport Post from \"../../Components/Post/Post\"\r\nimport NewPost from \"../../Components/NewPost/NewPost\"\r\nimport Navbar from \"../User/Navbar/Navbar\";\r\nimport { useUserContext } from \"../../Contexts/UserContext\";\r\nimport { useUserServices } from \"../../Services/PW2021/User.services\";\r\nimport { set } from \"react-hook-form\";\r\n\r\nvar page = 0;\r\nvar posts = [];\r\nvar favPosts = [];\r\nconst User = () => {\r\n  const context = useUserContext();\r\n  const [renderPosts, setRenderPosts] = useState([]);\r\n  //const [page, setPage] = useState(0);\r\n  const observer = useRef(\r\n    new IntersectionObserver(\r\n      entries => {\r\n        const first = entries[0];\r\n        if (first.isIntersecting) {\r\n          \r\n          \r\n          console.log(\"En el ref \"+page)\r\n          loadingPosts();\r\n          page++;\r\n        }\r\n      },\r\n      { threshold: 1 }\r\n    )\r\n  );\r\n\r\n  const [element, setElement] = useState(null);\r\n  useEffect(() => {\r\n      const myFavPost = async () => {  \r\n          try {\r\n              const token = context.getToken();\r\n              const response = await useUserServices.getAllFavorites(token)\r\n              console.log(response.favorites);\r\n              favPosts = response.favorites\r\n            \r\n            } catch (error) {\r\n              console.error(error);\r\n            }\r\n      };\r\n      myFavPost();  \r\n      \r\n  }, []);\r\n\r\n\r\n      useEffect(() => {\r\n        \r\n        const currentElement = element;\r\n    const currentObserver = observer.current;\r\n\r\n    if (currentElement) {\r\n      currentObserver.observe(currentElement);\r\n    }\r\n\r\n    return () => {\r\n      if (currentElement) {\r\n        currentObserver.unobserve(currentElement);\r\n      }\r\n    };\r\n  }, [element]);\r\n\r\n      const loadingPosts = async () => {\r\n            const token = context.getToken();\r\n            console.log(token)\r\n            console.log(\"En el loading post \"+page)\r\n            const filters = { limit: 5, page: page };\r\n            const response = await useUserServices.getAll(filters, token)\r\n            console.log(response.data);\r\n            posts = posts.concat( response.data)\r\n            \r\n            console.log(posts)\r\n            setRenderPosts(posts)\r\n            console.log(posts.length)\r\n      }\r\n\r\n    return (\r\n        <div className=\"min-h-screen  h-full bg-scroll bg-repeat bg-purple-400  grid grid-cols-6\">\r\n            <Navbar/>\r\n            <div className=\"col-start-1 col-span-6 sm:col-start-2 sm:col-span-4 xl:col-start-3 xl:col-span-2\">\r\n                <div className=\"mt-20\">\r\n                {\r\n                  renderPosts.map( post => {\r\n                  return <Post\r\n                  favPosts={favPosts}\r\n                  post={post}\r\n                  key={post._id}\r\n                    />\r\n                })\r\n                }\r\n                </div>\r\n                \r\n                <div class=\"border border-purple-300 shadow rounded-md p-4  w-full mx-auto mt-3\">\r\n                  <div class=\"animate-pulse flex space-x-4\">\r\n                    <div class=\"rounded-full bg-purple-700 h-12 w-12\"></div>\r\n                    <div class=\"flex-1 space-y-4 py-1\">\r\n                      <div class=\"h-4 bg-purple-700 rounded w-3/4\"></div>\r\n                      <div class=\"space-y-2\">\r\n                        <div class=\"h-4 bg-purple-700 rounded\"></div>\r\n                        <div class=\"h-4 bg-purple-700 rounded w-5/6\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div ref={setElement} class=\"border  border-purple-300 shadow rounded-md p-4  w-full mx-auto mt-3\">\r\n                  <div class=\"animate-pulse flex space-x-4\">\r\n                    <div class=\"rounded-full bg-purple-700 h-12 w-12\"></div>\r\n                    <div class=\"flex-1 space-y-4 py-1\">\r\n                      <div class=\"h-4 bg-purple-700 rounded w-3/4\"></div>\r\n                      <div class=\"space-y-2\">\r\n                        <div class=\"h-4 bg-purple-700 rounded\"></div>\r\n                        <div class=\"h-4 bg-purple-700 rounded w-5/6\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;","import React, { useEffect, useState} from \"react\";\r\nimport { useUserContext } from \"../../../Contexts/UserContext\";\r\nimport { useAdminServices } from \"../../../Services/PW2021/Admin.services\";\r\n\r\nconst ViewPost = () => {\r\n    const context = useUserContext();\r\n    const [renderPosts, setRenderPosts] = useState([]);\r\n    useEffect( () => {\r\n        const myPost = async () => {  \r\n            try {\r\n            const token = context.getToken();\r\n            console.log(token)\r\n            const filters = { limit: 15, page: 0 };\r\n            const response = await useAdminServices.ownedPosts(filters, token)\r\n            console.log(response.data);\r\n            setRenderPosts(response.data)\r\n            //posts = posts.concat( response.data)\r\n               \r\n              } catch (error) {\r\n                console.error(error);\r\n              }\r\n        };\r\n        myPost();  \r\n  }, []);\r\n    \r\n\r\n    return (\r\n        <div className=\" grid  grid-cols-1 md:grid-cols-3 gap-8\">\r\n            {\r\n                  renderPosts.map( post => {\r\n                  return <img className=\"w-full h-full object-contain object-center\" src={post.image}/>\r\n                })\r\n                }\r\n            \r\n            \r\n           {/*  <img className=\"w-full h-full object-contain object-center\" src=\"https://picsum.photos/200/200\"/> */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ViewPost;","import React, { useEffect, useState} from \"react\";\r\nimport { useUserContext } from \"../../../Contexts/UserContext\";\r\nimport { useUserServices } from \"../../../Services/PW2021/User.services\";\r\n\r\nvar favId = [];\r\nvar allFavPosts = [];\r\nconst ViewFav = () => {\r\n    const context = useUserContext();\r\n    const [renderPosts, setRenderPosts] = useState([]);\r\n\r\n    const findFavPost = async (id) => {\r\n      try { \r\n        const token = context.getToken();\r\n\r\n        const response = await useUserServices.getOne(id, token)\r\n        console.log(favId.length)\r\n        allFavPosts.push(response)\r\n\r\n        \r\n        \r\n        //allFavPosts = allFavPosts.concat( response);\r\n       \r\n      }catch (error) {\r\n      console.error(error);\r\n      }\r\n    }\r\n\r\n    useEffect( () => {\r\n        if(allFavPosts.length == 0){\r\n        const myFav = async () => {  \r\n            try {\r\n            const token = context.getToken();\r\n            console.log(token)\r\n            const response = await useUserServices.getAllFavorites(token)\r\n            favId = response.favorites\r\n            console.log(favId.length)\r\n            //posts = posts.concat( response.data)\r\n            favId.map(  (fav) => {\r\n               findFavPost(fav);\r\n            })\r\n            console.log(allFavPosts)\r\n            setRenderPosts(allFavPosts)\r\n\r\n            } catch (error) {\r\n              console.error(error);\r\n            }\r\n        };\r\n        myFav(); \r\n        \r\n      } else (\r\n        setRenderPosts(allFavPosts)\r\n      )\r\n  }, []);\r\n\r\n  useEffect( () => {\r\n\r\n  }, [renderPosts]);\r\n    \r\n\r\n    return (\r\n        <div className=\" grid  grid-cols-1 md:grid-cols-3 gap-8\">\r\n                {\r\n                  renderPosts.map( Favpost => {\r\n                   if(Favpost.image != null){\r\n                    return <img className=\"w-full h-full object-contain \" src={Favpost.image}/>\r\n                   }\r\n                })\r\n                }\r\n            \r\n            \r\n           {/*  <img className=\"w-full h-full object-contain object-center\" src=\"https://picsum.photos/200/200\"/> */}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ViewFav;","import React, {useState, useEffect} from \"react\";\r\nimport Navbar from \"../Admin/Navbar/Navbar\";\r\nimport { Route, Routes } from 'react-router-dom';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport { VscAccount } from \"react-icons/all\";\r\nimport ViewCarouselIcon from '@mui/icons-material/ViewCarousel';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport BookmarkIcon from '@mui/icons-material/Bookmark';\r\nimport Posts from \"./ViewPost/ViewPost\"\r\nimport Fav from \"./ViewFav/ViewFav\"\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst Profile = () => {\r\n\r\n    return (\r\n        <div className=\"min-h-screen  h-full bg-scroll bg-repeat bg-purple-400   flex flex-col items-center \">\r\n            <Navbar/>\r\n            <div className=\" mt-20 mb-20  w-6/12 flex flex-col  bg-green-400\" >\r\n                <div className=\"h-10/12 col-start-2 col-span-4 bg-yellow-400  \">\r\n                    <div className=\"flex flex-row \" >         \r\n                        <VscAccount className=\" text-9xl\" />\r\n                        <p>Username</p>\r\n                    </div>\r\n                    <div className=\"flex flex-row justify-evenly\">\r\n                        <Link to=\"/admin/profile/publicaciones\" className=\"w-3/6 p-1.5 flex flex-row justify-center  border-t-2  hover:border-black \">  \r\n                            <ViewCarouselIcon className=\"mx-4\" fontSize=\"large\"/>\r\n                            <button>Publicaciones</button>\r\n                        </Link>\r\n                        <Link to=\"/admin/profile/favoritos\" className=\"w-3/6 p-1.5 flex flex-row justify-center  border-t-2  hover:border-black \">  \r\n                            <BookmarkIcon className=\"mx-4\" fontSize=\"large\"/>\r\n                            <button>Favoritos</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n                <div >\r\n                    <Routes>\r\n                        <Route path=\"publicaciones\" element ={<Posts/> }/>\r\n                        <Route path=\"favoritos\" element ={ <Fav/> }/>\r\n                    </Routes>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Profile;","import { useUserContext } from '../../Contexts/UserContext';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ role, children }) => {\r\n  const { user } = useUserContext();\r\n\r\n  if(!user) return <Navigate replace to=\"/login\"/>\r\n  if(user.role !== role) return <p> 404 Not found </p>;\r\n  \r\n  return children;\r\n}\r\n\r\nexport default PrivateRoute;","import Login from \"./pages/Login/Login\";\r\nimport Admin from \"./pages/Admin/Admin\";\r\nimport User from \"./pages/User/User\";\r\nimport Profile from \"./pages/Profile/Profile\";\r\nimport Private from \"./Components/PrivateRoute/PrivateRoute\"\r\nimport {BrowserRouter as Router, Routes, Route} from \"react-router-dom\";\r\nimport './assets/main.css';\r\n\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Routes>\r\n          <Route path=\"/login\" element={<Login/>}  />\r\n            \r\n          <Route exact path=\"/admin\" element={<Private role=\"admin\"><Admin /></Private>}  />\r\n\r\n          <Route exact path=\"/admin/profile/*\" element={<Profile/>} />\r\n\r\n          <Route exact path=\"/user\" element={<Private role=\"user\"><User/></Private>} />\r\n        </Routes>\r\n    </Router>  \r\n    </div> \r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './assets/tailwind.css';\r\nimport App from './App.jsx';\r\nimport { UserProvider } from \"./Contexts/UserContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <UserProvider>\r\n      <App />\r\n    </UserProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n\r\n\r\n);\r\n\r\n"],"sourceRoot":""}